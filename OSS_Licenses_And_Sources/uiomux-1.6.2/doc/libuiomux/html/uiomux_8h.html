<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libuiomux: uiomux.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>uiomux.h File Reference</h1>
<p>The libuiomux C API.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="resource_8h_source.html">uiomux/resource.h</a>&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="system_8h_source.html">uiomux/system.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="dump_8h_source.html">uiomux/dump.h</a>&gt;</code><br/>

<p><a href="uiomux_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a3a321750049ca832671937ced153be"></a><!-- doxytag: member="uiomux.h::UIOMux" ref="a6a3a321750049ca832671937ced153be" args="" -->
typedef struct uiomux&nbsp;</td><td class="memItemRight" valign="bottom"><b>UIOMux</b></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#ab724610d0830ea5a3b748df432b00b43">uiomux_query</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query which blocks are available on this platform.  <a href="#ab724610d0830ea5a3b748df432b00b43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada3030177fa803d45bcf11d88e5ac472"></a><!-- doxytag: member="uiomux.h::uiomux_name" ref="ada3030177fa803d45bcf11d88e5ac472" args="(uiomux_resource_t resource)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#ada3030177fa803d45bcf11d88e5ac472">uiomux_name</a> (<a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve a printable name for an IP block: <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a48eb7765ae64c9cf8b4da5a3740ea3cb">uiomux_list_device</a> (char ***names, int *count)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query which blocks are available on this platform.  <a href="#a48eb7765ae64c9cf8b4da5a3740ea3cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a70fca08d1b9976c7855cdf1fbf56873a">uiomux_info</a> (UIOMux *uiomux)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print info about UIO maps to stdout.  <a href="#a70fca08d1b9976c7855cdf1fbf56873a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a109136c51764acd92dad6a167eeab43c">uiomux_meminfo</a> (UIOMux *uiomux)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print info about UIO memory allocations to stdout.  <a href="#a109136c51764acd92dad6a167eeab43c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UIOMux *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a71e45d7bbd218556dd55d79e153fee1c">uiomux_open</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new UIOMux object,.  <a href="#a71e45d7bbd218556dd55d79e153fee1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UIOMux *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a6623f87252c80539492c4fb196867318">uiomux_open_blocks</a> (<a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resources)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new UIOMux object for specified IP blocks,.  <a href="#a6623f87252c80539492c4fb196867318"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UIOMux *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a7c19588511ef401be49e97a8b6d268b6">uiomux_open_named</a> (const char *name[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new UIOMux object for named IP blocks, When UIOMux object is created with this function, each bit in <code>uiomux_resource_t</code> refer to the corresponding element in the list.  <a href="#a7c19588511ef401be49e97a8b6d268b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a256cd507b54f1dc6cb2afc3915457123">uiomux_close</a> (UIOMux *uiomux)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a UIOMux handle, removing exclusive access, removing memory maps, etc.  <a href="#a256cd507b54f1dc6cb2afc3915457123"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a6f530d9ffbd6a891dc155132cf647f6e">uiomux_check_resource</a> (struct uiomux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if passed resource is available on the UIOMux object.  <a href="#a6f530d9ffbd6a891dc155132cf647f6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#ac4a09bd2017b657b46b56e58c63a84d7">uiomux_check_name</a> (struct uiomux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check the name of the IP block corrensponding to the passed resource identifier.  <a href="#ac4a09bd2017b657b46b56e58c63a84d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#ab0d235b2ee947a7933448e762fd85dd7">uiomux_lock</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resources)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock a UIOMux handle for access to specified blocks.  <a href="#ab0d235b2ee947a7933448e762fd85dd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#aeb3da8e88f7131c23463175d64e56d3d">uiomux_unlock</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resources)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock a UIOMux handle for access to specified blocks.  <a href="#aeb3da8e88f7131c23463175d64e56d3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a5976899c07811b7c3b7060bfdad8663f">uiomux_sleep</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for a UIO managed resource to complete its activity.  <a href="#a5976899c07811b7c3b7060bfdad8663f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#af3a25216c4410a190952f203441c015a">uiomux_sleep_timeout</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, struct timeval *timeout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for a UIO managed resource to complete its activity.  <a href="#af3a25216c4410a190952f203441c015a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a9e99a826173ef4c02bf91d44a389cae5">uiomux_wakeup</a> (struct uiomux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wake up any processes waiting for UIO events via a uiomux_sleep* command.  <a href="#a9e99a826173ef4c02bf91d44a389cae5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a8efc32d493805aa636a936bbcd43f828">uiomux_get_mmio</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, unsigned long *address, unsigned long *size, void **iomem)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the address and size of the MMIO region for a UIO managed resource.  <a href="#a8efc32d493805aa636a936bbcd43f828"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#ac8a40ac7e26a779339824fba40126258">uiomux_get_mem</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, unsigned long *address, unsigned long *size, void **iomem)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the address and size of the user memory region for a UIO managed resource.  <a href="#ac8a40ac7e26a779339824fba40126258"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#ad704c0ae05faf337ebb8f5ece778a078">uiomux_virt_to_phys</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, void *virt_address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a virtual address to a physical address.  <a href="#ad704c0ae05faf337ebb8f5ece778a078"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a3e17ef156ccf94da691e04efd6ad0906">uiomux_all_virt_to_phys</a> (void *virt_address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a virtual address to a physical address.  <a href="#a3e17ef156ccf94da691e04efd6ad0906"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#acc4eccfb721c0b8c04b817e62f914e32">uiomux_phys_to_virt</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, unsigned long phys_address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a physical address to a virtual address.  <a href="#acc4eccfb721c0b8c04b817e62f914e32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a0ab2a91a91070d5f50ed02358c946ff9">uiomux_malloc</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, size_t size, int align)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate iomem from a UIO managed resource.  <a href="#a0ab2a91a91070d5f50ed02358c946ff9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a99648b7ef9a6b76f1d207e6de3d75f1e">uiomux_malloc_shared</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, size_t size, int align)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate shared iomem from a UIO managed resource.  <a href="#a99648b7ef9a6b76f1d207e6de3d75f1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#aeb90853442a987338ef93c20a1e6d4b0">uiomux_free</a> (UIOMux *uiomux, <a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> resource, void *address, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free iomem from a UIO managed resource.  <a href="#aeb90853442a987338ef93c20a1e6d4b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a45f194895a477bab035beede54b28b82">uiomux_register</a> (void *virt, unsigned long phys_address, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a region of memory as accessible by the resources.  <a href="#a45f194895a477bab035beede54b28b82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uiomux_8h.html#a48225e4f8c9c703d16c78c8ee4a3efd7">uiomux_unregister</a> (void *virt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unregister a region of memory as accessible by the resources.  <a href="#a48225e4f8c9c703d16c78c8ee4a3efd7"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The libuiomux C API. </p>
<h2><a class="anchor" id="query">
Query</a></h2>
<p>At any time, an application may retrieve a printable name for a resource by calling <a class="el" href="uiomux_8h.html#ada3030177fa803d45bcf11d88e5ac472" title="Retrieve a printable name for an IP block:">uiomux_name()</a>. To query which resources are available on the running system, call <a class="el" href="uiomux_8h.html#ab724610d0830ea5a3b748df432b00b43" title="Query which blocks are available on this platform.">uiomux_query()</a>.</p>
<h2><a class="anchor" id="locking">
Locking and unlocking</a></h2>
<p>A process or thread wishing to use the locking facilities of libuiomux should start by calling <a class="el" href="uiomux_8h.html#a71e45d7bbd218556dd55d79e153fee1c" title="Create a new UIOMux object,.">uiomux_open()</a> to obtain a UIOMux* handle.</p>
<p>To request exclusive access to a resource or a set of resources, call <a class="el" href="uiomux_8h.html#ab0d235b2ee947a7933448e762fd85dd7" title="Lock a UIOMux handle for access to specified blocks.">uiomux_lock()</a>, passing as argument the name of a resource, or multiple resource names OR'd together. Each call to <a class="el" href="uiomux_8h.html#ab0d235b2ee947a7933448e762fd85dd7" title="Lock a UIOMux handle for access to specified blocks.">uiomux_lock()</a> must be paired with a corresponding call to <a class="el" href="uiomux_8h.html#aeb3da8e88f7131c23463175d64e56d3d" title="Unlock a UIOMux handle for access to specified blocks.">uiomux_unlock()</a>. Failure to unlock can lead to system-wide starvation of the locked resource. Note however that all locks obtained via libuiomux will be automatically unlocked on program termination to minimize the potential damage caused by rogue processes.</p>
<p>Finally, each process or thread that opened a UIOMux* handle should close it by calling <a class="el" href="uiomux_8h.html#a256cd507b54f1dc6cb2afc3915457123" title="Close a UIOMux handle, removing exclusive access, removing memory maps, etc.">uiomux_close()</a>. This will remove associated memory maps, unlock locked resources and mark used memory for deallocation. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3e17ef156ccf94da691e04efd6ad0906"></a><!-- doxytag: member="uiomux.h::uiomux_all_virt_to_phys" ref="a3e17ef156ccf94da691e04efd6ad0906" args="(void *virt_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long uiomux_all_virt_to_phys </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virt_address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a virtual address to a physical address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>virt_address</em>&nbsp;</td><td>Virtual address to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Physical address corresponding to mapped virtual address </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Failure: virtual address is not managed by UIOMux. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4a09bd2017b657b46b56e58c63a84d7"></a><!-- doxytag: member="uiomux.h::uiomux_check_name" ref="ac4a09bd2017b657b46b56e58c63a84d7" args="(struct uiomux *uiomux, uiomux_resource_t resource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* uiomux_check_name </td>
          <td>(</td>
          <td class="paramtype">struct uiomux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check the name of the IP block corrensponding to the passed resource identifier. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>Resource identifer. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Name</em>&nbsp;</td><td>of the IP block; when multiple bits are set <code>resource</code>, the information on those corresponding to the only lesser significant bit is returned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f530d9ffbd6a891dc155132cf647f6e"></a><!-- doxytag: member="uiomux.h::uiomux_check_resource" ref="a6f530d9ffbd6a891dc155132cf647f6e" args="(struct uiomux *uiomux, uiomux_resource_t resource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> uiomux_check_resource </td>
          <td>(</td>
          <td class="paramtype">struct uiomux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if passed resource is available on the UIOMux object. </p>
<p>The function can be used to test if intended IP blocks are made available. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>Multiple OR'd resource list. When UIOMux handle is create with <code><a class="el" href="uiomux_8h.html#a7c19588511ef401be49e97a8b6d268b6" title="Create a new UIOMux object for named IP blocks, When UIOMux object is created with...">uiomux_open_named()</a></code>, this depends on the list of <code>name</code> passed to the function. See <a class="el" href="uiomux_8h.html#a7c19588511ef401be49e97a8b6d268b6">uiomux_open_named()</a> for details. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Or'd</em>&nbsp;</td><td>named resources; bits are set for resources available. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a256cd507b54f1dc6cb2afc3915457123"></a><!-- doxytag: member="uiomux.h::uiomux_close" ref="a256cd507b54f1dc6cb2afc3915457123" args="(UIOMux *uiomux)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_close </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close a UIOMux handle, removing exclusive access, removing memory maps, etc. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeb90853442a987338ef93c20a1e6d4b0"></a><!-- doxytag: member="uiomux.h::uiomux_free" ref="aeb90853442a987338ef93c20a1e6d4b0" args="(UIOMux *uiomux, uiomux_resource_t resource, void *address, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uiomux_free </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free iomem from a UIO managed resource. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>The address to free </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8a40ac7e26a779339824fba40126258"></a><!-- doxytag: member="uiomux.h::uiomux_get_mem" ref="ac8a40ac7e26a779339824fba40126258" args="(UIOMux *uiomux, uiomux_resource_t resource, unsigned long *address, unsigned long *size, void **iomem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long uiomux_get_mem </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>iomem</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the address and size of the user memory region for a UIO managed resource. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Return for address (ignored if NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Return for size (ignored if NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iomem</em>&nbsp;</td><td>Return for iomem (ignored if NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Address of user memory region </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Failure: resource not managed, or more than one resource given. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8efc32d493805aa636a936bbcd43f828"></a><!-- doxytag: member="uiomux.h::uiomux_get_mmio" ref="a8efc32d493805aa636a936bbcd43f828" args="(UIOMux *uiomux, uiomux_resource_t resource, unsigned long *address, unsigned long *size, void **iomem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long uiomux_get_mmio </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>iomem</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the address and size of the MMIO region for a UIO managed resource. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>Return for address (ignored if NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Return for size (ignored if NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iomem</em>&nbsp;</td><td>Return for iomem (ignored if NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Address of MMIO region </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Failure: resource not managed, or more than one resource given. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a70fca08d1b9976c7855cdf1fbf56873a"></a><!-- doxytag: member="uiomux.h::uiomux_info" ref="a70fca08d1b9976c7855cdf1fbf56873a" args="(UIOMux *uiomux)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_info </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print info about UIO maps to stdout. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a48eb7765ae64c9cf8b4da5a3740ea3cb"></a><!-- doxytag: member="uiomux.h::uiomux_list_device" ref="a48eb7765ae64c9cf8b4da5a3740ea3cb" args="(char ***names, int *count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_list_device </td>
          <td>(</td>
          <td class="paramtype">char ***&nbsp;</td>
          <td class="paramname"> <em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query which blocks are available on this platform. </p>
<p>Returns the references to the names of IP avialable IP blocks. If you need to modify the returned array of strings, please copy the array and strings before you do so. The result is shared by all callers of this API in the same process context. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>names</em>&nbsp;</td><td>List of IP blocks available. The array is terminated with NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Number of IP blocks. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success; -1 on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab0d235b2ee947a7933448e762fd85dd7"></a><!-- doxytag: member="uiomux.h::uiomux_lock" ref="ab0d235b2ee947a7933448e762fd85dd7" args="(UIOMux *uiomux, uiomux_resource_t resources)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_lock </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resources</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock a UIOMux handle for access to specified blocks. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resources</em>&nbsp;</td><td>A named resource, or multiple OR'd together </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ab2a91a91070d5f50ed02358c946ff9"></a><!-- doxytag: member="uiomux.h::uiomux_malloc" ref="a0ab2a91a91070d5f50ed02358c946ff9" args="(UIOMux *uiomux, uiomux_resource_t resource, size_t size, int align)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* uiomux_malloc </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>align</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate iomem from a UIO managed resource. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of memory region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>align</em>&nbsp;</td><td>Alignment of memory region </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Address of allocated memory </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>Failure: unable to allocate, or attempt to allocate from more than one resource. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a99648b7ef9a6b76f1d207e6de3d75f1e"></a><!-- doxytag: member="uiomux.h::uiomux_malloc_shared" ref="a99648b7ef9a6b76f1d207e6de3d75f1e" args="(UIOMux *uiomux, uiomux_resource_t resource, size_t size, int align)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* uiomux_malloc_shared </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>align</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate shared iomem from a UIO managed resource. </p>
<p>There can only be one shared memory region for a UIO device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of memory region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>align</em>&nbsp;</td><td>Alignment of memory region </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Address of allocated memory </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>Failure: unable to allocate, or attempt to allocate from more than one resource. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a109136c51764acd92dad6a167eeab43c"></a><!-- doxytag: member="uiomux.h::uiomux_meminfo" ref="a109136c51764acd92dad6a167eeab43c" args="(UIOMux *uiomux)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_meminfo </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print info about UIO memory allocations to stdout. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a71e45d7bbd218556dd55d79e153fee1c"></a><!-- doxytag: member="uiomux.h::uiomux_open" ref="a71e45d7bbd218556dd55d79e153fee1c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UIOMux* uiomux_open </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new UIOMux object,. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>on system error; check errno for details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6623f87252c80539492c4fb196867318"></a><!-- doxytag: member="uiomux.h::uiomux_open_blocks" ref="a6623f87252c80539492c4fb196867318" args="(uiomux_resource_t resources)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UIOMux* uiomux_open_blocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resources</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new UIOMux object for specified IP blocks,. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>resources</em>&nbsp;</td><td>A named resource, or multiple OR'd together </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>on system error; check errno for details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7c19588511ef401be49e97a8b6d268b6"></a><!-- doxytag: member="uiomux.h::uiomux_open_named" ref="a7c19588511ef401be49e97a8b6d268b6" args="(const char *name[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UIOMux* uiomux_open_named </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>[]</td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new UIOMux object for named IP blocks, When UIOMux object is created with this function, each bit in <code>uiomux_resource_t</code> refer to the corresponding element in the list. </p>
<p>For instance, <code>name</code>[n] is refered with the bit <code></code>(1 &lt;&lt; n). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>A list of IP block names. List shall be terminated with NULL pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>on system error; check errno for details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acc4eccfb721c0b8c04b817e62f914e32"></a><!-- doxytag: member="uiomux.h::uiomux_phys_to_virt" ref="acc4eccfb721c0b8c04b817e62f914e32" args="(UIOMux *uiomux, uiomux_resource_t resource, unsigned long phys_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* uiomux_phys_to_virt </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>phys_address</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a physical address to a virtual address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>phys_address</em>&nbsp;</td><td>Physical address to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Virtual address corresponding to physical address </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>Failure: resource not managed, or more than one resource given, or physical address is not in range mapped for given resource. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab724610d0830ea5a3b748df432b00b43"></a><!-- doxytag: member="uiomux.h::uiomux_query" ref="ab724610d0830ea5a3b748df432b00b43" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a> uiomux_query </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query which blocks are available on this platform. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Bitwise</em>&nbsp;</td><td>OR of available resource names. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a45f194895a477bab035beede54b28b82"></a><!-- doxytag: member="uiomux.h::uiomux_register" ref="a45f194895a477bab035beede54b28b82" args="(void *virt, unsigned long phys_address, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_register </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>phys_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register a region of memory as accessible by the resources. </p>
<p>This region is included in the list of regions covered by uiomux_all_virt_to_phys. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>virt</em>&nbsp;</td><td>Virtual address of memory region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>phys_address</em>&nbsp;</td><td>Physical address of memory region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of memory region </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5976899c07811b7c3b7060bfdad8663f"></a><!-- doxytag: member="uiomux.h::uiomux_sleep" ref="a5976899c07811b7c3b7060bfdad8663f" args="(UIOMux *uiomux, uiomux_resource_t resource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_sleep </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for a UIO managed resource to complete its activity. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A named resource </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af3a25216c4410a190952f203441c015a"></a><!-- doxytag: member="uiomux.h::uiomux_sleep_timeout" ref="af3a25216c4410a190952f203441c015a" args="(UIOMux *uiomux, uiomux_resource_t resource, struct timeval *timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_sleep_timeout </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for a UIO managed resource to complete its activity. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>A timeval structure to specify length of timeout NULL -&gt; no timeout 0 -&gt; return immediately (after checking interrupt status) </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>No interrupt occured before the timeout expired or uiomux was closed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeb3da8e88f7131c23463175d64e56d3d"></a><!-- doxytag: member="uiomux.h::uiomux_unlock" ref="aeb3da8e88f7131c23463175d64e56d3d" args="(UIOMux *uiomux, uiomux_resource_t resources)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_unlock </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resources</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock a UIOMux handle for access to specified blocks. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resources</em>&nbsp;</td><td>A named resource, or multiple OR'd together </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a48225e4f8c9c703d16c78c8ee4a3efd7"></a><!-- doxytag: member="uiomux.h::uiomux_unregister" ref="a48225e4f8c9c703d16c78c8ee4a3efd7" args="(void *virt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_unregister </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unregister a region of memory as accessible by the resources. </p>
<p>This region is removed from the list of regions covered by uiomux_all_virt_to_phys. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>virt</em>&nbsp;</td><td>Virtual address of memory region </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad704c0ae05faf337ebb8f5ece778a078"></a><!-- doxytag: member="uiomux.h::uiomux_virt_to_phys" ref="ad704c0ae05faf337ebb8f5ece778a078" args="(UIOMux *uiomux, uiomux_resource_t resource, void *virt_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long uiomux_virt_to_phys </td>
          <td>(</td>
          <td class="paramtype">UIOMux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virt_address</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a virtual address to a physical address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>virt_address</em>&nbsp;</td><td>Virtual address to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Physical address corresponding to mapped virtual address </dd></dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Failure: resource not managed, or more than one resource given, or virtual address is not in range mapped for given resource. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9e99a826173ef4c02bf91d44a389cae5"></a><!-- doxytag: member="uiomux.h::uiomux_wakeup" ref="a9e99a826173ef4c02bf91d44a389cae5" args="(struct uiomux *uiomux, uiomux_resource_t resource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uiomux_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct uiomux *&nbsp;</td>
          <td class="paramname"> <em>uiomux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="resource_8h.html#aa2e9141f7f5fef8c8a6f781dafcf1ea2">uiomux_resource_t</a>&nbsp;</td>
          <td class="paramname"> <em>resource</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wake up any processes waiting for UIO events via a uiomux_sleep* command. </p>
<p>The woken processes should be all confirm being woken before uiomux_close is called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uiomux</em>&nbsp;</td><td>A UIOMux handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>A single named resource </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Aug 26 14:32:28 2011 for libuiomux by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
